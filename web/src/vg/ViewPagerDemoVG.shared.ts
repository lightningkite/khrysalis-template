// Generated by Khrysalis TypeScript converter - this file will be overwritten.
// File: vg/ViewPagerDemoVG.shared.kt
// Package: com.lightningkite.khrysalistemplate.vg
// FQImport: com.lightningkite.khrysalistemplate.vg.ViewPagerDemoVG.generate.<anonymous>.xml TS xml
// FQImport: com.lightningkite.khrysalistemplate.layouts.ComponentTestXml.setup TS setup
// FQImport: com.lightningkite.khrysalis.observables.binding.bind>androidx.viewpager.widget.ViewPager TS androidxViewpagerWidgetViewPagerBindStatic
// FQImport: com.lightningkite.khrysalistemplate.layouts.ViewPagerDemoXml.viewPagerIndicator TS viewPagerIndicator
// FQImport: com.lightningkite.khrysalistemplate.layouts.ViewPagerDemoXml.viewPager TS viewPager
// FQImport: com.lightningkite.khrysalistemplate.vg.ViewPagerDemoVG.generate.<anonymous>.it TS it
// FQImport: com.lightningkite.khrysalistemplate.vg.ViewPagerDemoVG.generate.view TS view
// FQImport: com.lightningkite.khrysalis.observables.ObservableStack TS ObservableStack
// FQImport: com.lightningkite.khrysalistemplate.layouts.ComponentTestXml TS ComponentTestXml
// FQImport: com.lightningkite.khrysalistemplate.layouts.ViewPagerDemoXml TS ViewPagerDemoXml
// FQImport: com.lightningkite.khrysalistemplate.vg.ViewPagerDemoVG.generate.dependency TS dependency
// FQImport: com.lightningkite.khrysalistemplate.vg.ViewPagerDemoVG.generate.<anonymous>.view TS view
// FQImport: com.lightningkite.khrysalistemplate.vg.ViewPagerDemoVG.generate.xml TS xml
// FQImport: com.lightningkite.khrysalis.views.ViewGenerator TS ViewGenerator
// FQImport: com.lightningkite.khrysalistemplate.vg.ViewPagerDemoVG.selectedIndex TS selectedIndex
// FQImport: com.lightningkite.khrysalistemplate.layouts.ComponentTestXml.label TS label
// FQImport: com.lightningkite.khrysalis.observables.StandardObservableProperty TS StandardObservableProperty
// FQImport: com.lightningkite.khrysalistemplate.vg.ViewPagerDemoVG.items TS items
// FQImport: com.lightningkite.khrysalistemplate.layouts.ViewPagerDemoXml.setup TS setup
// FQImport: com.lightningkite.khrysalis.observables.binding.bind>com.rd.PageIndicatorView TS comRdPageIndicatorViewBind
import { ViewPagerDemoXml } from '../layout/ViewPagerDemoXml'
import { androidxViewpagerWidgetViewPagerBindStatic } from 'khrysalis/dist/observables/binding/ViewPager.binding.actual'
import { ComponentTestXml } from '../layout/ComponentTestXml'
import { StandardObservableProperty } from 'khrysalis/dist/observables/StandardObservableProperty.shared'
import { ViewGenerator } from 'khrysalis/dist/views/ViewGenerator.shared'
import { ObservableStack } from 'khrysalis/dist/observables/ObservableStack.shared'
import { comRdPageIndicatorViewBind } from 'khrysalis/dist/observables/binding/PageIndicatorView.binding.actual'

//! Declares com.lightningkite.khrysalistemplate.vg.ViewPagerDemoVG
export class ViewPagerDemoVG extends ViewGenerator {
    public readonly stack: ObservableStack<ViewGenerator>;
    public constructor(stack: ObservableStack<ViewGenerator>) {
        super();
        this.stack = stack;
        this.items = ["First", "Second", "Third"];
        this.selectedIndex = new StandardObservableProperty(0, undefined);
    }
    
    //! Declares com.lightningkite.khrysalistemplate.vg.ViewPagerDemoVG.title
    public get title(): string { return "View Pager Demo"; }
    
    
    public readonly items: Array<string>;
    
    public readonly selectedIndex: StandardObservableProperty<number>;
    
    
    public generate(dependency: Window): HTMLElement {
        const xml = new ViewPagerDemoXml();
        
        const view = xml.setup(dependency);
        
        
        androidxViewpagerWidgetViewPagerBindStatic(xml.viewPager, this.items, this.selectedIndex, (it) => {
                const xml = new ComponentTestXml();
                
                const view = xml.setup(dependency);
                
                xml.label.innerText = it;
                return view;
        });
        comRdPageIndicatorViewBind(xml.viewPagerIndicator, this.items.length, this.selectedIndex);
        
        return view;
    }
}

