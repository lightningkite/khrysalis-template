// Generated by Khrysalis TypeScript converter - this file will be overwritten.
// File: vg/ViewPagerDemoVG.kt
// Package: com.lightningkite.butterflytemplate.vg
import { ViewPagerDemoXml } from '../layout/ViewPagerDemoXml'
import { xPageIndicatorViewBind } from 'butterfly/dist/observables/binding/PageIndicatorView.binding'
import { ComponentTestXml } from '../layout/ComponentTestXml'
import { setViewText } from 'butterfly/dist/views/ViewWithText.ext'
import { ObservableStack } from 'butterfly/dist/observables/ObservableStack'
import { ViewGenerator } from 'butterfly/dist/views/ViewGenerator'
import { xViewPagerBindStatic } from 'butterfly/dist/observables/binding/ViewPager.binding'
import { StandardObservableProperty } from 'butterfly/dist/observables/StandardObservableProperty'

//! Declares com.lightningkite.butterflytemplate.vg.ViewPagerDemoVG
export class ViewPagerDemoVG extends ViewGenerator {
    public readonly stack: ObservableStack<ViewGenerator>;
    public constructor(stack: ObservableStack<ViewGenerator>) {
        super();
        this.stack = stack;
        this.items = ["First", "Second", "Third"];
        this.selectedIndex = new StandardObservableProperty<number>(0, undefined);
    }
    
    //! Declares com.lightningkite.butterflytemplate.vg.ViewPagerDemoVG.title
    public get title(): string { return "View Pager Demo"; }
    
    
    public readonly items: Array<string>;
    
    public readonly selectedIndex: StandardObservableProperty<number>;
    
    
    public generate(dependency: Window): HTMLElement {
        const xml = new ViewPagerDemoXml();
        
        const view = xml.setup(dependency);
        
        
        xViewPagerBindStatic<string>(xml.viewPager, this.items, this.selectedIndex, (it: string): HTMLElement => {
                const xml = new ComponentTestXml();
                
                const view = xml.setup(dependency);
                
                setViewText(xml.label, it);
                return view;
        });
        xPageIndicatorViewBind(xml.viewPagerIndicator, this.items.length, this.selectedIndex);
        
        return view;
    }
}

